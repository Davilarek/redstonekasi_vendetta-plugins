(function(l,n,m,w,d,t,R,a,g,v){"use strict";const h=()=>{const e={...n.patcher,...n.metro,...m.common,...n.utils,...n.debug};return delete e.React,Object.assign(window,e),()=>Object.keys(e).forEach(r=>delete window[r])};let i;var u=(e=!0)=>{i?.(),e&&(i=h())},D=()=>{t.storage.autoDebugger&&w.connectToDebugger(n.settings.debuggerUrl),t.storage.autoRDC&&window.__vendetta_rdc&&window.__vendetta_rdc.connectToDevTools({host:n.settings.debuggerUrl.split(":")[0],resolveRNStyle:d.ReactNative.StyleSheet.flatten})};const s=[],b=(e,r,c=!1)=>{const o=R.after(e,r,(C,N)=>console.log(`RECON: ${e}`,C,N),c);return s.push(o),o},y=(e,r=!1)=>{const c=Object.getOwnPropertyNames(e).filter(o=>typeof e[o]=="function").map(o=>b(o,e,r));return s.push(...c),()=>c.forEach(o=>o())};window.dk={snipe:b,shotgun:y,wipe:()=>{s.forEach(e=>e()),s=[]}};var E=()=>delete window.dk,f=()=>(v.useProxy(t.storage),React.createElement(d.ReactNative.ScrollView,null,React.createElement(a.FormSwitchRow,{label:"Assign globals",subLabel:"Assign modules, utils, patcher to window",leading:React.createElement(a.FormIcon,{source:g.getAssetIDByName("ic_message_copy")}),onValueChange:e=>{t.storage.assignGlobals=e,u(e)},value:t.storage.assignGlobals}),React.createElement(a.FormDivider,null),React.createElement(a.FormSwitchRow,{label:"Auto debugger",subLabel:"Automatically connect to debugger on launch",leading:React.createElement(a.FormIcon,{source:g.getAssetIDByName("copy")}),onValueChange:e=>t.storage.autoDebugger=e,value:t.storage.autoDebugger}),React.createElement(a.FormDivider,null),window.__vendetta_rdc&&React.createElement(a.FormSwitchRow,{label:"Auto React DevTools",subLabel:"Automatically connect to React DevTools",leading:React.createElement(a.FormIcon,{source:g.getAssetIDByName("ic_badge_staff")}),onValueChange:e=>t.storage.autoRDC=e,value:t.storage.autoRDC})));t.storage.assignGlobals??=!0,t.storage.autoDebugger??=!0,t.storage.autoRDC??=!0,u(t.storage.assignGlobals),D();const A=()=>{u(!1),E()};return l.onUnload=A,l.settings=f,l})({},vendetta,vendetta.metro,vendetta.debug,vendetta.metro.common,vendetta.plugin,vendetta.patcher,vendetta.ui.components.Forms,vendetta.ui.assets,vendetta.storage);
