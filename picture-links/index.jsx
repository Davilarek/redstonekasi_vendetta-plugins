(function(p){"use strict";const{findByProps:l,findByDisplayName:i}=vendetta.metro,{React:o}=vendetta.metro.common,{after:s}=vendetta.patcher,{getSize:m}=vendetta.metro.common.ReactNative.Image,{Pressable:d}=l("Button","Text","View"),v=i("ProfileBanner",!1),f=i("HeaderAvatar",!1),h=i("GuildIcon"),{openMediaModal:y}=i("MediaModal",!1),{hideActionSheet:b}=l("hideActionSheet");function a(e,t){m(e,(n,r)=>{b(),y({initialSources:[{uri:e,sourceURI:e,width:n,height:r}],initialIndex:0,originLayout:{width:0,height:0,x:t.pageX,y:t.pageY,resizeMode:"fill"}})})}const A=s("default",f,([{user:e,style:t,guildId:n}],r)=>{const g=e.guildMemberAvatars?.[n]&&`https://cdn.discordapp.com/guilds/${n}/users/${e.id}/avatars/${e.guildMemberAvatars[n]}.png`,c=e?.getAvatarURL?.(!1,4096,!0);if(!c)return r;const I=typeof c=="number"?`https://cdn.discordapp.com/embed/avatars/${e.discriminator%5}.png`:c?.replace(".webp",".png");return delete r.props.style,o.createElement(d,{onPress:({nativeEvent:u})=>a(I,u),onLongPress:({nativeEvent:u})=>g&&a(g,u),style:t},r)}),E=s("default",v,([{bannerSource:e}],t)=>{if(typeof e?.uri!="string"||!t)return t;const n=e.uri.replace(/(?:\?size=\d{3,4})?$/,"?size=4096").replace(".webp",".png");return o.createElement(d,{onPress:({nativeEvent:r})=>a(n,r)},t)}),M=s("render",h.prototype,function(e,t){if(this.props?.size!=="XLARGE")return;const n=this.props?.guild?.getIconURL?.(4096);return n?o.createElement(d,{onPress:({nativeEvent:r})=>a(n,r)},t):t});function P(){A(),E(),M()}return p.onUnload=P,p})({});
