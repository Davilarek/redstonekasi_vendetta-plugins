(function(l,a,s,u){"use strict";const{Pressable:o}=a.findByProps("Button","Text","View"),f=a.findByDisplayName("ProfileBanner",!1),g=a.findByDisplayName("HeaderAvatar",!1),y=a.findByDisplayName("GuildIcon"),{openMediaModal:v}=a.findByDisplayName("MediaModal",!1),{hideActionSheet:m}=a.findByProps("hideActionSheet");function r(e,t){u.Image.getSize(e,(n,i)=>{m(),v({initialSources:[{uri:e,sourceURI:e,width:n,height:i}],initialIndex:0,originLayout:{width:0,height:0,x:t.pageX,y:t.pageY,resizeMode:"fill"}})})}const h=s.after("default",g,([{user:e,style:t,guildId:n}],i)=>{const p=e.guildMemberAvatars?.[n]&&`https://cdn.discordapp.com/guilds/${n}/users/${e.id}/avatars/${e.guildMemberAvatars[n]}.png`,d=e?.getAvatarURL?.(!1,4096,!0);if(!d)return i;const B=typeof d=="number"?`https://cdn.discordapp.com/embed/avatars/${e.discriminator%5}.png`:d?.replace(".webp",".png");return delete i.props.style,React.createElement(o,{onPress:({nativeEvent:c})=>r(B,c),onLongPress:({nativeEvent:c})=>p&&r(p,c),style:t},i)}),b=s.after("default",f,([{bannerSource:e}],t)=>{if(typeof e?.uri!="string"||!t)return t;const n=e.uri.replace(/(?:\?size=\d{3,4})?$/,"?size=4096").replace(".webp",".png");return React.createElement(o,{onPress:({nativeEvent:i})=>r(n,i)},t)}),P=s.after("render",y.prototype,function(e,t){if(this.props?.size!=="XLARGE")return;const n=this.props?.guild?.getIconURL?.(4096);return n?React.createElement(o,{onPress:({nativeEvent:i})=>r(n,i)},t):t});function A(){h(),b(),P()}return l.onUnload=A,l})({},vendetta.metro,vendetta.patcher,vendetta.metro.common.ReactNative);
